{"editor":{"id":"692c1046-e97f-4b96-a4ef-9d51866a4c11","offsetX":1,"offsetY":1,"zoom":100,"gridSize":0,"layers":[{"id":"db7297f7-5d32-4179-8004-a7d97a0ff7a5","type":"diagram-links","isSvg":true,"transformed":true,"models":{"a594c070-57a9-4123-8988-27f57b0562c3":{"id":"a594c070-57a9-4123-8988-27f57b0562c3","type":"default","selected":false,"source":"65817f98-0fe6-4221-bbd6-1cb2ef305206","sourcePort":"4f6ec9fe-bbbd-4c94-aedb-79638522a1c3","target":"f19ef8b6-4c30-4223-9f7d-7cfa58019d05","targetPort":"4e181685-f290-4b1a-ba45-ae58926b54da","points":[{"id":"0100217c-68a3-4042-84c9-c8acbe421527","type":"point","x":711,"y":155.90000915527344},{"id":"a4e67f4b-0b6e-4463-b228-5d5f78cf4171","type":"point","x":711,"y":205.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"7bbcbb29-824c-40ba-b0e4-c91ce18e153c":{"id":"7bbcbb29-824c-40ba-b0e4-c91ce18e153c","type":"default","selected":false,"source":"00aebda9-ca02-4c6d-9d89-5f5d67719036","sourcePort":"17d3929a-69b7-4054-9b01-15214c9f51ba","target":"f19ef8b6-4c30-4223-9f7d-7cfa58019d05","targetPort":"4512f526-2a38-4794-8fdd-4a710bd124d0","points":[{"id":"4bf90093-ef54-48c9-9f7b-fe0c656af1f6","type":"point","x":292.5,"y":383.6000061035156},{"id":"b0871801-35a4-4a00-a3b4-a43c13a3a5c1","type":"point","x":411.5,"y":388}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"5ebef050-2e62-4913-86ab-6a11f4a105e2":{"id":"5ebef050-2e62-4913-86ab-6a11f4a105e2","type":"default","selected":false,"source":"f275301b-1d0d-4191-b295-bf9e11e796cb","sourcePort":"0fe3b867-bf46-43c3-8065-9e96eb784684","target":"f19ef8b6-4c30-4223-9f7d-7cfa58019d05","targetPort":"11727c95-dfea-4049-8f4e-0a8bfe72dc70","points":[{"id":"3ca1f30b-1e6d-4f35-b25b-b50eba8d3bb2","type":"point","x":1115.5,"y":388.6000061035156},{"id":"a6dbc686-1118-4441-8c3e-acc04b938d1e","type":"point","x":1010.5,"y":388}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"}}},{"id":"1895cf8d-b253-46ce-b021-2ec12ac42169","type":"diagram-nodes","isSvg":false,"transformed":true,"models":{"65817f98-0fe6-4221-bbd6-1cb2ef305206":{"id":"65817f98-0fe6-4221-bbd6-1cb2ef305206","type":"basic.constant","selected":false,"x":650,"y":32,"ports":[{"id":"4f6ec9fe-bbbd-4c94-aedb-79638522a1c3","type":"port.output","x":703.5,"y":148.40000915527344,"name":"constant-out","alignment":"bottom","parentNode":"65817f98-0fe6-4221-bbd6-1cb2ef305206","links":["a594c070-57a9-4123-8988-27f57b0562c3"],"in":false,"label":"constant-out"}],"data":{"name":"Frequency","value":"10","local":false}},"f19ef8b6-4c30-4223-9f7d-7cfa58019d05":{"id":"f19ef8b6-4c30-4223-9f7d-7cfa58019d05","type":"basic.code","selected":false,"x":403,"y":197,"ports":[{"id":"4512f526-2a38-4794-8fdd-4a710bd124d0","type":"port.input","x":404,"y":380.5,"name":"Enable","alignment":"left","parentNode":"f19ef8b6-4c30-4223-9f7d-7cfa58019d05","links":["7bbcbb29-824c-40ba-b0e4-c91ce18e153c"],"in":true,"label":"Enable"},{"id":"11727c95-dfea-4049-8f4e-0a8bfe72dc70","type":"port.output","x":1003,"y":380.5,"name":"Out","alignment":"right","parentNode":"f19ef8b6-4c30-4223-9f7d-7cfa58019d05","links":["5ebef050-2e62-4913-86ab-6a11f4a105e2"],"in":false,"label":"Out"},{"id":"4e181685-f290-4b1a-ba45-ae58926b54da","type":"port.parameter","x":703.5,"y":198,"name":"Frequency","alignment":"top","parentNode":"f19ef8b6-4c30-4223-9f7d-7cfa58019d05","links":["a594c070-57a9-4123-8988-27f57b0562c3"],"in":true,"label":"Frequency"}],"data":{"code":"import cv2\nimport numpy as np\nfrom time import sleep\nfrom utils.wires.wire_img import share_image\nfrom utils.wires.wire_str import read_string\nfrom utils.tools.freq_monitor import monitor_frequency\n\ndef loop(block_name, input_wires, output_wires, parameters, flags):\n\n    output_0 = share_image(output_wires[0])\n\n    enabled = False\n    try:\n        enable_wire = read_string(input_wires[0])\n    except IndexError:\n        enabled = True\n\n    required_frequency, update = float(parameters[0]), 1\n    control_data = np.array([0.0,0.03])\n\n    if flags[0] == 1:\n        monitor_frequency(block_name, control_data, required_frequency, update)\n\n    cap = cv2.VideoCapture(0)\n\n    try:\n    \n        while True:\n    \n            if enabled or (update := bool(enable_wire.get()[0])):\n                \n                control_data[0] += 1 \n                ret, frame = cap.read()\n                output_0.add(frame)\n                \n            sleep(control_data[1])\n            \n    except KeyboardInterrupt:\n    \n        cap.release()\n        enable_wire.release()\n        output_0.release()","params":[{"name":"Frequency"}],"ports":{"in":[{"name":"Enable"}],"out":[{"name":"Out"}]},"size":{"width":"568px","height":"330px"}}},"00aebda9-ca02-4c6d-9d89-5f5d67719036":{"id":"00aebda9-ca02-4c6d-9d89-5f5d67719036","type":"basic.input","selected":false,"x":199,"y":357,"ports":[{"id":"17d3929a-69b7-4054-9b01-15214c9f51ba","type":"port.output","x":285,"y":376.1000061035156,"name":"input-out","alignment":"right","parentNode":"00aebda9-ca02-4c6d-9d89-5f5d67719036","links":["7bbcbb29-824c-40ba-b0e4-c91ce18e153c"],"in":false,"label":"input-out"}],"data":{"name":"Enable"}},"f275301b-1d0d-4191-b295-bf9e11e796cb":{"id":"f275301b-1d0d-4191-b295-bf9e11e796cb","type":"basic.output","selected":true,"x":1106,"y":361,"ports":[{"id":"0fe3b867-bf46-43c3-8065-9e96eb784684","type":"port.input","x":1108,"y":381.1000061035156,"name":"output-in","alignment":"left","parentNode":"f275301b-1d0d-4191-b295-bf9e11e796cb","links":["5ebef050-2e62-4913-86ab-6a11f4a105e2"],"in":true,"label":"output-in"}],"data":{"name":"Out"}}}}]},"version":"3.0","package":{"name":"Camera","version":"1.0.0","description":"Captures Video Stream from Camera","author":"Muhammad Taha Suhail","image":"data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjQ3MnB0IiB2aWV3Qm94PSIwIC04NyA0NzIgNDcyIiB3aWR0aD0iNDcycHQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0ibTQ2MiAzNS4xMjEwOTR2MjI3LjgyMDMxMmwtMTIxLjg3ODkwNi02Ni41NTA3ODFoLTEuMjEwOTM4di05NC43MTg3NWgxLjIxMDkzOHptMCAwIiBmaWxsPSIjMDBhY2VhIi8+PHBhdGggZD0ibTMzOC45MTAxNTYgMTk2LjM5MDYyNXY1MS4wMzEyNWMwIDIyLjA4OTg0NC0xNy45MTAxNTYgNDAtNDAgNDBoLTI0OC45MTAxNTZjLTIyLjA4OTg0NCAwLTQwLTE3LjkxMDE1Ni00MC00MHYtMTk3LjQyMTg3NWMwLTIyLjA4OTg0NCAxNy45MTAxNTYtNDAgNDAtNDBoMjQ4LjkxMDE1NmMyMi4wODk4NDQgMCA0MCAxNy45MTAxNTYgNDAgNDB6bTAgMCIgZmlsbD0iIzAwZWZkMSIvPjxwYXRoIGQ9Im00NjcuMTAxNTYyIDI2LjUxOTUzMWMtMy4wMzkwNjItMS44MDA3ODEtNi43OTY4NzQtMS44NjcxODctOS44OTg0MzctLjE3NTc4MWwtMTA4LjI5Njg3NSA1OS4xMzI4MTJ2LTM1LjQ3NjU2MmMtLjAzMTI1LTI3LjYwMTU2Mi0yMi4zOTg0MzgtNDkuOTY4NzUtNTAtNTBoLTI0OC45MDYyNWMtMjcuNjAxNTYyLjAzMTI1LTQ5Ljk2ODc1IDIyLjM5ODQzOC01MCA1MHYxOTcuNDIxODc1Yy4wMzEyNSAyNy41OTc2NTYgMjIuMzk4NDM4IDQ5Ljk2NDg0NCA1MCA1MGgyNDguOTEwMTU2YzI3LjYwMTU2My0uMDM1MTU2IDQ5Ljk2ODc1LTIyLjQwMjM0NCA1MC01MHYtMzQuODM5ODQ0bDEwOC4zMDA3ODIgNTkuMTMyODEzYzMuMDk3NjU2IDEuNjkxNDA2IDYuODU1NDY4IDEuNjI1IDkuODkwNjI0LS4xNzU3ODIgMy4wMzUxNTctMS44MDQ2ODcgNC44OTg0MzgtNS4wNzAzMTIgNC44OTg0MzgtOC42MDE1NjJ2LTIyNy44MTY0MDZjMC0zLjUzMTI1LTEuODYzMjgxLTYuODAwNzgyLTQuODk4NDM4LTguNjAxNTYzem0tMTM4LjE5MTQwNiAyMjAuOTAyMzQ0Yy0uMDE5NTMxIDE2LjU1ODU5NC0xMy40Mzc1IDI5Ljk4MDQ2OS0zMCAzMGgtMjQ4LjkxMDE1NmMtMTYuNTYyNS0uMDE5NTMxLTI5Ljk4MDQ2OS0xMy40NDE0MDYtMzAtMzB2LTE5Ny40MjE4NzVjLjAxOTUzMS0xNi41NjI1IDEzLjQzNzUtMjkuOTgwNDY5IDMwLTMwaDI0OC45MTAxNTZjMTYuNTYyNS4wMTk1MzEgMjkuOTgwNDY5IDEzLjQzNzUgMzAgMzB6bTEyMy4wODk4NDQtMS4zMzU5MzctMTAzLjA4OTg0NC01Ni4yODkwNjN2LTgxLjUzMTI1bDEwMy4wODk4NDQtNTYuMjkyOTY5em0wIDAiIGZpbGw9IiMwODM4NjMiLz48L3N2Zz4="},"design":{"board":"Python3-Noetic","graph":{"blocks":[{"id":"65817f98-0fe6-4221-bbd6-1cb2ef305206","type":"basic.constant","data":{"name":"Frequency","value":"10","local":false},"position":{"x":650,"y":32}},{"id":"f19ef8b6-4c30-4223-9f7d-7cfa58019d05","type":"basic.code","data":{"code":"import cv2\nimport numpy as np\nfrom time import sleep\nfrom utils.wires.wire_img import share_image\nfrom utils.wires.wire_str import read_string\nfrom utils.tools.freq_monitor import monitor_frequency\n\ndef loop(block_name, input_wires, output_wires, parameters, flags):\n\n    output_0 = share_image(output_wires[0])\n\n    enabled = False\n    try:\n        enable_wire = read_string(input_wires[0])\n    except IndexError:\n        enabled = True\n\n    required_frequency, update = float(parameters[0]), 1\n    control_data = np.array([0.0,0.03])\n\n    if flags[0] == 1:\n        monitor_frequency(block_name, control_data, required_frequency, update)\n\n    cap = cv2.VideoCapture(0)\n\n    try:\n    \n        while True:\n    \n            if enabled or (update := bool(enable_wire.get()[0])):\n                \n                control_data[0] += 1 \n                ret, frame = cap.read()\n                output_0.add(frame)\n                \n            sleep(control_data[1])\n            \n    except KeyboardInterrupt:\n    \n        cap.release()\n        enable_wire.release()\n        output_0.release()","params":[{"name":"Frequency"}],"ports":{"in":[{"name":"Enable"}],"out":[{"name":"Out"}]},"size":{"width":"568px","height":"330px"}},"position":{"x":403,"y":197}},{"id":"00aebda9-ca02-4c6d-9d89-5f5d67719036","type":"basic.input","data":{"name":"Enable"},"position":{"x":199,"y":357}},{"id":"f275301b-1d0d-4191-b295-bf9e11e796cb","type":"basic.output","data":{"name":"Out"},"position":{"x":1106,"y":361}}],"wires":[{"source":{"block":"65817f98-0fe6-4221-bbd6-1cb2ef305206","port":"constant-out"},"target":{"block":"f19ef8b6-4c30-4223-9f7d-7cfa58019d05","port":"Frequency"}},{"source":{"block":"00aebda9-ca02-4c6d-9d89-5f5d67719036","port":"input-out"},"target":{"block":"f19ef8b6-4c30-4223-9f7d-7cfa58019d05","port":"Enable"}},{"source":{"block":"f19ef8b6-4c30-4223-9f7d-7cfa58019d05","port":"Out"},"target":{"block":"f275301b-1d0d-4191-b295-bf9e11e796cb","port":"output-in"}}]}},"dependencies":{}}