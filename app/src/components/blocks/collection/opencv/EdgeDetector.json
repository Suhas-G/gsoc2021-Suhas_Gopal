{"editor":{"id":"a6afc433-7026-4225-a37d-bec8a0aa3244","offsetX":0,"offsetY":0,"zoom":100,"gridSize":0,"layers":[{"id":"ebd81536-8290-40bf-9e54-d7916c869acf","type":"diagram-links","isSvg":true,"transformed":true,"models":{"6e9ced89-fa45-4b0f-ad1a-ba987d78291b":{"id":"6e9ced89-fa45-4b0f-ad1a-ba987d78291b","type":"default","selected":false,"source":"c263b248-38ac-4737-9cd0-e9f016c9d0ea","sourcePort":"6199e432-6889-44c6-847e-116ed17e7b3d","target":"aa69a824-e463-40d9-ba9d-b7d08bc4a7b7","targetPort":"1531bcca-f3b8-40ec-8dc1-e14ff67ae61f","points":[{"id":"4399c947-18f4-4f60-9085-425c0bec7304","type":"point","x":470,"y":164.90000915527344},{"id":"a8ec7fc0-3749-44ce-8235-04cf3604a834","type":"point","x":447.5,"y":255.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"3576e033-f3b7-469e-8235-dde5478005bb":{"id":"3576e033-f3b7-469e-8235-dde5478005bb","type":"default","selected":false,"source":"7ab346c6-df79-4fe3-9832-55d91e53fba4","sourcePort":"837b4e0b-ac45-43a8-8d86-62ffc9751ecd","target":"aa69a824-e463-40d9-ba9d-b7d08bc4a7b7","targetPort":"43fe2324-7dec-450d-be45-3803efe5f24c","points":[{"id":"32b5556b-1111-4047-9842-0f914cf7477a","type":"point","x":616,"y":164.90000915527344},{"id":"119bbf3d-4127-472e-93d5-94270ed84ed8","type":"point","x":648.5,"y":255.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"1ac37ada-5780-43fa-b788-6dafd378c0c6":{"id":"1ac37ada-5780-43fa-b788-6dafd378c0c6","type":"default","selected":false,"source":"8f6c99f6-ecf5-4c04-86a9-c6afc448e742","sourcePort":"79b80ff1-cfb0-4dda-ad45-217302344c85","target":"aa69a824-e463-40d9-ba9d-b7d08bc4a7b7","targetPort":"66cafe1a-294e-40df-b8e7-e15250b45ef0","points":[{"id":"ec44e4dc-7b84-47bd-8ccb-aeb75333059b","type":"point","x":774,"y":161.90000915527344},{"id":"1be404cb-535d-46a8-9716-3685ce48d450","type":"point","x":849.5,"y":255.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"82d1bb48-acea-4613-a513-c0d3a685c1f8":{"id":"82d1bb48-acea-4613-a513-c0d3a685c1f8","type":"default","selected":false,"source":"d14ac0ea-88b5-4a9f-a55d-3b570634d075","sourcePort":"0878c41d-0d4f-4b08-9b70-78bc723da5ba","target":"aa69a824-e463-40d9-ba9d-b7d08bc4a7b7","targetPort":"a93260e8-aefc-4be7-9b21-523389241d7f","points":[{"id":"000f4e3b-af84-4a3b-b138-81aae7efba8c","type":"point","x":179.5,"y":354.6000061035156},{"id":"528a59e7-3747-4a20-b192-3c9dfe9c2d69","type":"point","x":261.5,"y":356.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"cadf772d-5c8b-4698-8877-59ebb49cdabe":{"id":"cadf772d-5c8b-4698-8877-59ebb49cdabe","type":"default","selected":false,"source":"207cab47-f220-4f60-bec5-bc84f9a9890d","sourcePort":"f86c3e5d-8135-494c-824f-73dc7c08d467","target":"aa69a824-e463-40d9-ba9d-b7d08bc4a7b7","targetPort":"778eebe3-f01b-43d9-adfd-49f57f61f62e","points":[{"id":"189d0c59-2c2e-441d-afca-30c4a0a247e1","type":"point","x":172.5,"y":462.60003662109375},{"id":"e660c0a0-b1b3-49d8-9a16-135035b21c4f","type":"point","x":261.5,"y":457.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"7fb94696-3324-47a8-8b25-54448e3ff41b":{"id":"7fb94696-3324-47a8-8b25-54448e3ff41b","type":"default","selected":false,"source":"aa69a824-e463-40d9-ba9d-b7d08bc4a7b7","sourcePort":"2ba097d2-5d5e-420a-bd7d-6aa757abfde8","target":"c74643cd-cd95-41c0-908c-61ed69459e36","targetPort":"0882e4b4-c1cf-4ac3-8439-5573649d5dc0","points":[{"id":"dcdb40b9-a1d4-4878-ada3-9262d4fefbf5","type":"point","x":1035.5,"y":407},{"id":"9f63147f-3e6f-4272-ad58-6f87105b9964","type":"point","x":1112.5,"y":398.6000061035156}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"}}},{"id":"6140b633-a9e9-47c4-a8c2-905aaa65ff8d","type":"diagram-nodes","isSvg":false,"transformed":true,"models":{"c263b248-38ac-4737-9cd0-e9f016c9d0ea":{"id":"c263b248-38ac-4737-9cd0-e9f016c9d0ea","type":"basic.constant","selected":false,"x":409,"y":41,"ports":[{"id":"6199e432-6889-44c6-847e-116ed17e7b3d","type":"port.output","x":462.5,"y":157.40000915527344,"name":"constant-out","alignment":"bottom","parentNode":"c263b248-38ac-4737-9cd0-e9f016c9d0ea","links":["6e9ced89-fa45-4b0f-ad1a-ba987d78291b"],"in":false,"label":"constant-out"}],"data":{"name":"Frequency","value":"30","local":true}},"7ab346c6-df79-4fe3-9832-55d91e53fba4":{"id":"7ab346c6-df79-4fe3-9832-55d91e53fba4","type":"basic.constant","selected":false,"x":555,"y":41,"ports":[{"id":"837b4e0b-ac45-43a8-8d86-62ffc9751ecd","type":"port.output","x":608.5,"y":157.40000915527344,"name":"constant-out","alignment":"bottom","parentNode":"7ab346c6-df79-4fe3-9832-55d91e53fba4","links":["3576e033-f3b7-469e-8235-dde5478005bb"],"in":false,"label":"constant-out"}],"data":{"name":"Lower","value":"85","local":true}},"8f6c99f6-ecf5-4c04-86a9-c6afc448e742":{"id":"8f6c99f6-ecf5-4c04-86a9-c6afc448e742","type":"basic.constant","selected":false,"x":713,"y":38,"ports":[{"id":"79b80ff1-cfb0-4dda-ad45-217302344c85","type":"port.output","x":766.5,"y":154.40000915527344,"name":"constant-out","alignment":"bottom","parentNode":"8f6c99f6-ecf5-4c04-86a9-c6afc448e742","links":["1ac37ada-5780-43fa-b788-6dafd378c0c6"],"in":false,"label":"constant-out"}],"data":{"name":"Upper","value":"255","local":true}},"aa69a824-e463-40d9-ba9d-b7d08bc4a7b7":{"id":"aa69a824-e463-40d9-ba9d-b7d08bc4a7b7","type":"basic.code","selected":false,"x":253,"y":247,"ports":[{"id":"a93260e8-aefc-4be7-9b21-523389241d7f","type":"port.input","x":254,"y":349,"name":"Input","alignment":"left","parentNode":"aa69a824-e463-40d9-ba9d-b7d08bc4a7b7","links":["82d1bb48-acea-4613-a513-c0d3a685c1f8"],"in":true,"label":"Input"},{"id":"778eebe3-f01b-43d9-adfd-49f57f61f62e","type":"port.input","x":254,"y":450,"name":"Enable","alignment":"left","parentNode":"aa69a824-e463-40d9-ba9d-b7d08bc4a7b7","links":["cadf772d-5c8b-4698-8877-59ebb49cdabe"],"in":true,"label":"Enable"},{"id":"2ba097d2-5d5e-420a-bd7d-6aa757abfde8","type":"port.output","x":1028,"y":399.5,"name":"Output","alignment":"right","parentNode":"aa69a824-e463-40d9-ba9d-b7d08bc4a7b7","links":["7fb94696-3324-47a8-8b25-54448e3ff41b"],"in":false,"label":"Output"},{"id":"1531bcca-f3b8-40ec-8dc1-e14ff67ae61f","type":"port.parameter","x":440,"y":248,"name":"Frequency","alignment":"top","parentNode":"aa69a824-e463-40d9-ba9d-b7d08bc4a7b7","links":["6e9ced89-fa45-4b0f-ad1a-ba987d78291b"],"in":true,"label":"Frequency"},{"id":"43fe2324-7dec-450d-be45-3803efe5f24c","type":"port.parameter","x":641,"y":248,"name":"Lower","alignment":"top","parentNode":"aa69a824-e463-40d9-ba9d-b7d08bc4a7b7","links":["3576e033-f3b7-469e-8235-dde5478005bb"],"in":true,"label":"Lower"},{"id":"66cafe1a-294e-40df-b8e7-e15250b45ef0","type":"port.parameter","x":842,"y":248,"name":"Upper","alignment":"top","parentNode":"aa69a824-e463-40d9-ba9d-b7d08bc4a7b7","links":["1ac37ada-5780-43fa-b788-6dafd378c0c6"],"in":true,"label":"Upper"}],"data":{"code":"import cv2 as cv\nimport numpy as np\nfrom time import sleep\nfrom utils.wires.wire_img import share_image, read_image\nfrom utils.wires.wire_str import read_string\nfrom utils.tools.freq_monitor import monitor_frequency\n\ndef loop(block_name, input_wires, output_wires, parameters, flags):\n\n    input_0 = read_image(input_wires[0])\n    output_0 = share_image(output_wires[0])\n\n    enabled = False\n    try:\n        enable_wire = read_string(input_wires[1])\n    except IndexError:\n        enabled = True\n\n    control_data = np.array([0.0,0.03])\n    required_frequency, update = float(parameters[0]), 1\n\n    if flags[0] == 1:\n        monitor_frequency(block_name, control_data, required_frequency, update)\n\n    try:\n        while True:\n        \n            if enabled or (update := int(enable_wire.get()[0])):\n    \n                sleep(control_data[1])\n                frame = input_0.get()\n                \n                if frame is not None:\n                \n                    frame = cv.cvtColor(frame, cv.COLOR_BGR2GRAY)\n                    edge_img = cv.Canny(frame, int(parameters[1]), int(parameters[2]))\n                    edge_img = cv.cvtColor(edge_img, cv.COLOR_GRAY2BGR)\n    \n                    output_0.add(edge_img)\n                    control_data[0] += 1\n                    \n    except KeyboardInterrupt:\n    \n        input_0.release()\n        enable_wire.release()\n        output_0.release()","params":[{"name":"Frequency"},{"name":"Lower"},{"name":"Upper"}],"ports":{"in":[{"name":"Input"},{"name":"Enable"}],"out":[{"name":"Output"}]},"size":{"width":"743px","height":"268px"}}},"d14ac0ea-88b5-4a9f-a55d-3b570634d075":{"id":"d14ac0ea-88b5-4a9f-a55d-3b570634d075","type":"basic.input","selected":false,"x":86,"y":328,"ports":[{"id":"0878c41d-0d4f-4b08-9b70-78bc723da5ba","type":"port.output","x":172,"y":347.1000061035156,"name":"input-out","alignment":"right","parentNode":"d14ac0ea-88b5-4a9f-a55d-3b570634d075","links":["82d1bb48-acea-4613-a513-c0d3a685c1f8"],"in":false,"label":"input-out"}],"data":{"name":"Image"}},"207cab47-f220-4f60-bec5-bc84f9a9890d":{"id":"207cab47-f220-4f60-bec5-bc84f9a9890d","type":"basic.input","selected":false,"x":79,"y":436,"ports":[{"id":"f86c3e5d-8135-494c-824f-73dc7c08d467","type":"port.output","x":165,"y":455.10003662109375,"name":"input-out","alignment":"right","parentNode":"207cab47-f220-4f60-bec5-bc84f9a9890d","links":["cadf772d-5c8b-4698-8877-59ebb49cdabe"],"in":false,"label":"input-out"}],"data":{"name":"Enable"}},"c74643cd-cd95-41c0-908c-61ed69459e36":{"id":"c74643cd-cd95-41c0-908c-61ed69459e36","type":"basic.output","selected":false,"x":1104,"y":372,"ports":[{"id":"0882e4b4-c1cf-4ac3-8439-5573649d5dc0","type":"port.input","x":1105,"y":391.1000061035156,"name":"output-in","alignment":"left","parentNode":"c74643cd-cd95-41c0-908c-61ed69459e36","links":["7fb94696-3324-47a8-8b25-54448e3ff41b"],"in":true,"label":"output-in"}],"data":{"name":"Output"}}}}]},"version":"3.0","package":{"name":"EdgeDetector","version":"1.0.0","description":"Performs Edge detection on Image","author":"Muhammad Taha Suhail","image":"data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDU2IDU2IiB3aWR0aD0iNTEyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxnIGlkPSJQYWdlLTEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGcgaWQ9IjA2Mi0tLVBob3RvIiBmaWxsPSJyZ2IoMCwwLDApIiBmaWxsLXJ1bGU9Im5vbnplcm8iPjxwYXRoIGlkPSJTaGFwZSIgZD0ibTQ2LjcxNyA0My40Yy0xLjEzNi0uNTktMi4yNzUtMS4xODktMy40LTEuOC0xLjAzOTg3MTktLjYxODkzNC0yLjE2MjkwNDItMS4wODU5OTQyLTMuMzM1LTEuMzg3LjAxNjE5NTMgMS4yNzc3MDExLS4xNDEyNDQgMi41NTE2ODExLS40NjggMy43ODdoOC40NDhjLS4yLS4xLS40LS4yLS41ODYtLjI4MS0uMjM3LS4xMS0uNDYyLS4yMTQtLjY1OS0uMzE5eiIvPjxwYXRoIGlkPSJSZWN0YW5nbGUtcGF0aCIgZD0ibTUgNTBoN3YyaC03eiIvPjxwYXRoIGlkPSJTaGFwZSIgZD0ibTE5LjA1NyAzOS4xMjhjLS4zMzY2NDQxLjE4MjY3NjItLjY4MjgwMzcuMzQ3MjQzOS0xLjAzNy40OTMtLjExNzExNTUgMS41MDU3NzkyLjE2MzU5NTMgMy4wMTU4OTI5LjgxNCA0LjM3OWgxOC41NjZjLjQ2MDY3NDYtMS40MTI5MDcyLjY1NDMwNjMtMi44OTkyMjUxLjU3MS00LjM4My0uMzUzNDUxMy0uMTQ1OTY5MS0uNjk4OTM0LS4zMTA1MzIzLTEuMDM1LS40OTMtLjMzNi0uMTgtLjY0OC0uMzY4LS45MzYtLjU1M3YyLjQyOWMwIC41NTIyODQ3LS40NDc3MTUzIDEtMSAxcy0xLS40NDc3MTUzLTEtMXYtMy45ODdjLTEuMDI3IDEuNTUxLTIuMDM0IDIuOTg3LTQuNDQgMi45ODdoLTMuMTJjLTIuNDA2IDAtMy40MTMtMS40MzYtNC40NC0yLjk4N3YzLjk4N2MwIC41NTIyODQ3LS40NDc3MTUzIDEtMSAxcy0xLS40NDc3MTUzLTEtMXYtMi40M2MtLjI5LjE4Ny0uNi4zNzctLjk0My41NTh6Ii8+PHBhdGggaWQ9IlNoYXBlIiBkPSJtNTUgMGgtNTRjLS41NTIyODQ3NSAwLTEgLjQ0NzcxNTI1LTEgMXYyMmgxMWMuNTUyMjg0NyAwIDEgLjQ0NzcxNTMgMSAxcy0uNDQ3NzE1MyAxLTEgMWgtMTF2MzBjMCAuNTUyMjg0Ny40NDc3MTUyNSAxIDEgMWg1NGMuNTUyMjg0NyAwIDEtLjQ0NzcxNTMgMS0xdi05aC01M2MtLjU1MjI4NDc1IDAtMS0uNDQ3NzE1My0xLTFzLjQ0NzcxNTI1LTEgMS0xaDIuMTg5Yy4wNDY0NzcxLS4xMTg1ODM1LjEwMjMyMDE0LS4yMzMyNzkxLjE2Ny0uMzQzLjYyMTM0NTEtLjgxMDk1NDEgMS40NjY5MTgwNC0xLjQyMTgzODggMi40MzItMS43NTcuMjA1LS4wOTMuNC0uMTgyLjU2OC0uMjcxIDEuMTI5LS41ODUgMi4yNTUtMS4xNzggMy4zNjUtMS43ODUgMS4zMzU1NjM0LS44MDYzNDg3IDIuNzk3ODMyOS0xLjM4MTExMzYgNC4zMjUtMS43LjcyMzI1NjItLjE0ODQxNTQgMS40MTgwNjE5LS40MTE3NTI5IDIuMDU4LS43OC42NjYzNjgzLS4zNjA1MTc2IDEuMzAwNjgwMS0uNzc3MzcwMiAxLjg5Ni0xLjI0NnYtMS43MjZjLS4xNTctLjE2NS0uMzA3LS4zMy0uNDgzLS41LTEuOTgyNjk4Ni0xLjcwMTM3OTEtMy4wMDQxMzM2LTQuMjY3NDg2Ny0yLjczMy02Ljg2Ni0xLjgzMDEzMzMtLjkxOTQ5NDktMy4xNjEwODM4LTIuNTk5OTI1LTMuNjM3LTQuNTkyLS4zLTIuMTE1LS4zMzEtNC43MDkgMS4xNjEtNS4yODYuNTUzMTkwOC0uMjA3MDg4MSAxLjE2NDA5NTgtLjE5ODE2MTkgMS43MTEuMDI1LS4wMzQtMS4yMTUtLjAyMy0yLjY3NS4wNjItNC40NzUuMzQyLTcuMzEzIDcuNDA4LTkuNTQ1IDExLjEtOS43aDEuNmMzLjczMS4xNTggMTAuOCAyLjM5IDExLjEzOSA5LjcuMDg1IDEuOC4xIDMuMjYuMDYyIDQuNDc1LjU0ODE3MDctLjIyMjM0ODIgMS4xNTk4MTg3LS4yMzA5MTI3IDEuNzE0LS4wMjQgMS40ODkuNTc2IDEuNDU1IDMuMTcgMS4xNjQgNS4yNDQtLjQ2NjA4NjggMi4wMDg2ODk4LTEuODAwOTIyOCAzLjcwNjI3MjktMy42NDMgNC42MzMuMjczNjEwNiAyLjYwMTM4NjEtLjc0ODQ2MTcgNS4xNzExNDY1LTIuNzM0IDYuODc0LS4xNzYuMTY1LS4zMjYuMzMtLjQ4My41djEuNzI2Yy41OTI2NzQ2LjQ2ODk2NTcgMS4yMjQzMDEuODg2NDgxNSAxLjg4OCAxLjI0OC42NDM5MTE4LjM3MDczNDEgMS4zNDMxMjkxLjYzNTc2ODIgMi4wNzEuNzg1IDEuNTI4NzE2Ny4zMTg5NTczIDIuOTkyNjE5Ljg5MzY5OTYgNC4zMyAxLjcgMS4xLjYgMi4yMjYgMS4yIDMuMzUyIDEuNzc5LjE3Mi4wOS4zNjYuMTc5LjU3MS4yNzIuOTY1ODkwNi4zMzUxNjQ5IDEuODExOTU3NS45NDY4NTA3IDIuNDMzIDEuNzU5LjA2NDM0NzUuMTA4NzA1OS4xMTk4NTkzLjIyMjQwNDkuMTY2LjM0aDUuMTg5di0xOS4wMDloLTExYy0uNTUyMjg0NyAwLTEtLjQ0NzcxNTMtMS0xcy40NDc3MTUzLTEgMS0xaDExdi0yMmMwLS41NTIyODQ3NS0uNDQ3NzE1My0xLTEtMXptLTI4IDQ4aDFjLjU1MjI4NDcgMCAxIC40NDc3MTUzIDEgMXMtLjQ0NzcxNTMgMS0xIDFoLTFjLS41NTIyODQ3IDAtMS0uNDQ3NzE1My0xLTFzLjQ0NzcxNTMtMSAxLTF6bS0xMCAwaDZjLjU1MjI4NDcgMCAxIC40NDc3MTUzIDEgMXMtLjQ0NzcxNTMgMS0xIDFoLTZjLS41NTIyODQ3IDAtMS0uNDQ3NzE1My0xLTFzLjQ0NzcxNTMtMSAxLTF6bTAgNGg0Yy41NTIyODQ3IDAgMSAuNDQ3NzE1MyAxIDFzLS40NDc3MTUzIDEtMSAxaC00Yy0uNTUyMjg0NyAwLTEtLjQ0NzcxNTMtMS0xcy40NDc3MTUzLTEgMS0xem0tMTQtM2MwLS41NTIyODQ3LjQ0NzcxNTI1LTEgMS0xaDljLjU1MjI4NDcgMCAxIC40NDc3MTUzIDEgMXY0YzAgLjU1MjI4NDctLjQ0NzcxNTMgMS0xIDFoLTljLS41NTIyODQ3NSAwLTEtLjQ0NzcxNTMtMS0xeiIvPjxwYXRoIGlkPSJTaGFwZSIgZD0ibTEyLjY5MSA0MS41OTRjLTEuMTMzLjYyLTIuMjcyIDEuMjE5LTMuNDExIDEuODEtLjE5NC4xLS40MTkuMi0uNjU2LjMxNS0uMTg0LjA4NC0uMzg2LjE4LS41ODYuMjgxaDguNjE5Yy0uNDQ2MTU3MS0xLjIxMTE4OTMtLjY2ODc2NTItMi40OTMzMDM1LS42NTctMy43ODQtMS4xNjI1NjYuMzAwNjg3LTIuMjc2NjQ1OC43NjQ2MzQ0LTMuMzA5IDEuMzc4eiIvPjxwYXRoIGlkPSJTaGFwZSIgZD0ibTIwLjg4MyAzMi40MzdjMS4wMzg5MjIyIDEuMDA0MTAxNSAxLjk0ODYwNDcgMi4xMzM4MTQxIDIuNzA4IDMuMzYzIDEuMDM3IDEuNTYzIDEuNTA5IDIuMiAyLjg0OSAyLjJoMy4xMmMxLjMzNyAwIDEuODEyLS42MzcgMi44NDktMi4yLjc1OTgwODctMS4yMjc2NTY4IDEuNjY5ODM5Mi0yLjM1NTcwNDkgMi43MDktMy4zNTggMi4yNTQtMi4xMDggMi4xNzItMy44NzMgMi4wNjgtNi4xMDctLjAyMy0uNDg5LS4wNDYtLjk4Ny0uMDQ2LTEuNS4wMTMwNDU4LS45NTk2NzI0LjEyMTI0Mi0xLjkxNTY4NS4zMjMtMi44NTQuNTU5MzYxNy0zLjAyNjc5MTguNzEzMzgwNy02LjExNDU2ODcuNDU4LTkuMTgyLS4zNDEtNy4zMS04LjgyMS03Ljc4My05LjE4Ni03Ljc5OWgtMS41MTVjLS4zMTYuMDE2LTguOC40ODktOS4xNDEgNy44LS4yNTUzODA3IDMuMDY3NDMxMy0uMTAxMzYxNyA2LjE1NTIwODIuNDU4IDkuMTgyLjIwMTc1OC45MzgzMTUuMzA5OTU0MiAxLjg5NDMyNzYuMzIzIDIuODU0IDAgLjUxLS4wMjMgMS4wMDgtLjA0NiAxLjUtLjEwNCAyLjIyOC0uMTg2IDMuOTkzIDIuMDY5IDYuMTAxeiIvPjxwYXRoIGlkPSJTaGFwZSIgZD0ibTE2LjA2IDE5LjU2OWMtLjIzNzkyNDktLjI4MDc2MzctLjU1Nzk2MTUtLjQ3OTc4MS0uOTE1LS41NjktLjE5NTQ2NDkgMS4wMzAxMDM3LS4yMDM1OTUgMi4wODcwMTEyLS4wMjQgMy4xMi4yODUzNzI3IDEuMDI0MTU4MS44OTM0NzkxIDEuOTI4OTUzMSAxLjczNCAyLjU4LS4wMjQ0OTM3LS43OTE5MzQ5LS4xMTk4NzQ4LTEuNTgwMDg0Mi0uMjg1LTIuMzU1LS4xMzktLjc1NS0uMy0xLjYzMy0uNDE2LTIuODUyeiIvPjxwYXRoIGlkPSJTaGFwZSIgZD0ibTQwLjg4NSAyMi4wOGMuMTc0NTIyLTEuMDIwMTQ2MS4xNjQ2OTk5LTIuMDYzMzIwOS0uMDI5LTMuMDgtLjM1NzM1OC4wODc5Nzk3LS42Nzc4ODMzLjI4NjM4MzUtLjkxNi41NjdsLS4wOTQtLjA4Yy0uMTE1IDEuMjE5LS4yNzcgMi4xLS40MTYgMi44NTItLjE2NTA2NDkuNzc0MjUwNi0uMjYwNDQ2IDEuNTYxNzMwNC0uMjg1IDIuMzUzLjg0OTcwNDMtLjY1NzI2NTIgMS40NjA4MzYzLTEuNTc0NjY1NiAxLjc0LTIuNjEyeiIvPjwvZz48L2c+PC9zdmc+"},"design":{"board":"Python3-Noetic","graph":{"blocks":[{"id":"c263b248-38ac-4737-9cd0-e9f016c9d0ea","type":"basic.constant","data":{"name":"Frequency","value":"30","local":true},"position":{"x":409,"y":41}},{"id":"7ab346c6-df79-4fe3-9832-55d91e53fba4","type":"basic.constant","data":{"name":"Lower","value":"85","local":true},"position":{"x":555,"y":41}},{"id":"8f6c99f6-ecf5-4c04-86a9-c6afc448e742","type":"basic.constant","data":{"name":"Upper","value":"255","local":true},"position":{"x":713,"y":38}},{"id":"aa69a824-e463-40d9-ba9d-b7d08bc4a7b7","type":"basic.code","data":{"code":"import cv2 as cv\nimport numpy as np\nfrom time import sleep\nfrom utils.wires.wire_img import share_image, read_image\nfrom utils.wires.wire_str import read_string\nfrom utils.tools.freq_monitor import monitor_frequency\n\ndef loop(block_name, input_wires, output_wires, parameters, flags):\n\n    input_0 = read_image(input_wires[0])\n    output_0 = share_image(output_wires[0])\n\n    enabled = False\n    try:\n        enable_wire = read_string(input_wires[1])\n    except IndexError:\n        enabled = True\n\n    control_data = np.array([0.0,0.03])\n    required_frequency, update = float(parameters[0]), 1\n\n    if flags[0] == 1:\n        monitor_frequency(block_name, control_data, required_frequency, update)\n\n    try:\n        while True:\n        \n            if enabled or (update := int(enable_wire.get()[0])):\n    \n                sleep(control_data[1])\n                frame = input_0.get()\n                \n                if frame is not None:\n                \n                    frame = cv.cvtColor(frame, cv.COLOR_BGR2GRAY)\n                    edge_img = cv.Canny(frame, int(parameters[1]), int(parameters[2]))\n                    edge_img = cv.cvtColor(edge_img, cv.COLOR_GRAY2BGR)\n    \n                    output_0.add(edge_img)\n                    control_data[0] += 1\n                    \n    except KeyboardInterrupt:\n    \n        input_0.release()\n        enable_wire.release()\n        output_0.release()","params":[{"name":"Frequency"},{"name":"Lower"},{"name":"Upper"}],"ports":{"in":[{"name":"Input"},{"name":"Enable"}],"out":[{"name":"Output"}]},"size":{"width":"743px","height":"268px"}},"position":{"x":253,"y":247}},{"id":"d14ac0ea-88b5-4a9f-a55d-3b570634d075","type":"basic.input","data":{"name":"Image"},"position":{"x":86,"y":328}},{"id":"207cab47-f220-4f60-bec5-bc84f9a9890d","type":"basic.input","data":{"name":"Enable"},"position":{"x":79,"y":436}},{"id":"c74643cd-cd95-41c0-908c-61ed69459e36","type":"basic.output","data":{"name":"Output"},"position":{"x":1104,"y":372}}],"wires":[{"source":{"block":"c263b248-38ac-4737-9cd0-e9f016c9d0ea","port":"constant-out"},"target":{"block":"aa69a824-e463-40d9-ba9d-b7d08bc4a7b7","port":"Frequency"}},{"source":{"block":"7ab346c6-df79-4fe3-9832-55d91e53fba4","port":"constant-out"},"target":{"block":"aa69a824-e463-40d9-ba9d-b7d08bc4a7b7","port":"Lower"}},{"source":{"block":"8f6c99f6-ecf5-4c04-86a9-c6afc448e742","port":"constant-out"},"target":{"block":"aa69a824-e463-40d9-ba9d-b7d08bc4a7b7","port":"Upper"}},{"source":{"block":"d14ac0ea-88b5-4a9f-a55d-3b570634d075","port":"input-out"},"target":{"block":"aa69a824-e463-40d9-ba9d-b7d08bc4a7b7","port":"Input"}},{"source":{"block":"207cab47-f220-4f60-bec5-bc84f9a9890d","port":"input-out"},"target":{"block":"aa69a824-e463-40d9-ba9d-b7d08bc4a7b7","port":"Enable"}},{"source":{"block":"aa69a824-e463-40d9-ba9d-b7d08bc4a7b7","port":"Output"},"target":{"block":"c74643cd-cd95-41c0-908c-61ed69459e36","port":"output-in"}}]}},"dependencies":{}}